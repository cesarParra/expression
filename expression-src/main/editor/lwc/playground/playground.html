<template>
    <div class="slds-p-around_medium slds-m-bottom_small lgc-bg">
        <lightning-input type="text"
                         value={recordId}
                         onchange={handleInputChange}
                         label="Record Id (Optional Context)"></lightning-input>
    </div>
    <div class="slds-grid slds-gutters slds-gutters_x-small overflow-hidden">
        <div class="slds-col slds-size_2-of-12">
            <lightning-card variant="narrow" label="Function Library" hide-header="true">
                <div class="container-bound">
                    <c-function-library></c-function-library>
                </div>
            </lightning-card>
        </div>
        <div class="slds-col slds-size_6-of-12 slds-is-relative">
            <iframe src={iframeUrl}
                    scrolling="no" style="width: 100%; height: 500px; overflow: hidden; border: none"
                    onload={iframeLoaded}
            ></iframe>
            <div class="top-right">
                <lightning-button
                  icon-name="utility:play"
                  variant="brand" label="Validate" onclick={getExpression}>
                </lightning-button>
            </div>
        </div>
        <div class="slds-col slds-size_4-of-12">
            <lightning-card title="Result" icon-name="custom:custom14">
                <div class="slds-p-horizontal_small">
                    <pre class={resultColor}>{result.payload}</pre>
                </div>
            </lightning-card>
        </div>
    </div>
</template>
